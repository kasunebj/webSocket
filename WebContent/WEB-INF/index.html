<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<script>
		var socket = null;

		function webSocketConnection(){
			var url = "ws://echo.websocket.org/";
			console.log("connection Initilized");
			
			try{
				socket = new WebSocket (url);
				
				socket.onopen = function(openEvent){
					console.log("connection opened" + JSON.stringify(openEvent));
				}
				
				socket.onmessage = function(msgEvnt){
					console.log("message recieved");
					var msg = msgEvent.data;
					var strmsg = JSON.parse(msg);
					
					document.getElementById("msgBox").textContent(msg);
					
				}
				
				socket.onclose = function (event){
					console.log("connection closed"+ JOSN.stringify(event));
					
				}
				socket.onerror = function (event){
					console.log("WebsSocketError" + JOSN.stringify(event));
				}
				
				
			}catch(exception){
				console.error (exception);
				alert(exception);
				
			}
			
			
		}
</script>
</head>
<body onLoad="webSocketConnection()">
		<h1>hello</h1>
		<p id="msgBox"></p>
</body>
</html>